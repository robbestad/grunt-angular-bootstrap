"use strict";var myAppNs=myAppNs||{};myAppNs.myApp=angular.module("myApp",["ngRoute","ngResource"],function($routeProvider){$routeProvider.when("/",{controller:"mainController",templateUrl:"pages/start.html"}),$routeProvider.when("/contact",{controller:"contactController",templateUrl:"pages/kontakt.html"}),$routeProvider.when("/shop",{templateUrl:"pages/shop.html",controller:"shopController",resolve:{product:["$route","resourceProductDataService",function($route,dataService){return dataService.getProducts().$promise}]}}),$routeProvider.when("/shop/:id",{templateUrl:"pages/shop.html",controller:"shopController",resolve:{product:["$route","resourceProductDataService",function($route,dataService){return dataService.getProduct($route.current.pathParams.id).$promise}]}})}),myAppNs.myApp.run(function($rootScope){function doSomethingElse(){$rootScope.appName="Powered by local forage",localforage.getItem("author",printName)}function printName(name){$rootScope.appName=name}$rootScope.appName="A Simple Template",$rootScope.appDescription="Getting started with grunt, angularjs and bootstrap.";var hasIDB="undefined"!=typeof window.indexedDB,hasLS="undefined"!=typeof window.localStorage;hasIDB?$rootScope.appName="Powered by IndexedDB":hasLS?$rootScope.appName="Powered by Local Storage":hasLS&&($rootScope.appName="Your browser sucks"),localforage.setItem("author","anders",doSomethingElse)});var myAppNs=myAppNs||{};!function(){myAppNs.myApp.controller("mainController",["$scope","$rootScope","$timeout","$locale","$route",function($scope,$rootScope,$timeout){$scope.timeoutHello="Sample post";var promise=$timeout(function(){$scope.timeoutHello="Post sample"},3500);$scope.cancel=function(){$timeout.cancel(promise),console.log("Cancelled the promise!")}}])}(),function(){myAppNs.myApp.controller("contactController",["$scope","$rootScope","$timeout","$locale","$route",function(){}])}(),function(){myAppNs.myApp.controller("shopController",["$scope","$rootScope","$timeout","$locale","$route","resourceProductDataService",function($scope,$rootScope,$timeout,$locale,$route,shopService){$scope.product=void 0!==$route.current.pathParams.id?shopService.getProduct($route.current.pathParams.id):shopService.getProduct()}])}();var myAppNs=myAppNs||{};angular.module("myApp.factories",["ngResource"]).factory("productFactory",function($http){return{getPageAsync:function(category,callback){var url="http://api.robbestad.com/shopadmin/products/"+id+"?callback=JSON_CALLBACK";delete $http.defaults.headers.common["X-Requested-With"],$http.get(url).success(callback)}}}).factory("socket",function($rootScope){var socket=io.connect("http://192.241.149.86:3000");return{on:function(eventName,fn){socket.on(eventName,function(data){$rootScope.$apply(function(){fn(data)})})},emit:socket.emit}}).factory("articleFactory",function($http){return{getArticleAsync:function(category,id,callback){var url="http://nyhetsapiet.robbestad.no/news/"+category+"/"+id+"?callback=JSON_CALLBACK";delete $http.defaults.headers.common["X-Requested-With"],$http.get(url).success(callback)}}}),myAppNs.myApp.service("resourceProductDataService",["lookup","$http",function(lookup,$http){return this.getProduct=function(id){var url="http://myapi.dev/shopadmin/products/"+id+"?callback=JSON_CALLBACK";return $http.jsonp(url).success(function(data){return $.parseJSON(data)})},this}]),myAppNs.myApp.service("httpProductDataService",["productValue",function(){return this.getProduct=function(id,successFn){$http.get("http://myapi.dev/shopadmin/products/"+id).success(function(data){successFn(data)}).error(function(data,status){console.log(status)})},this}]);var mokklookNs=myAppNs||{},lookupService=angular.module("lookupService",["ngResource"]);lookupService.factory("lookup",["$resource",function($resource){return $resource("http://myapi.dev/shopadmin/products/:id",{},{query:{method:"GET",params:{id:"id"},isArray:!0}})}]),myAppNs.myApp.value("productValue",{productID:1,name:"Kort med robot",price:200,image:"robotbilde"}),myAppNs.myApp.service("resourceProductDataService",["$resource",function($resource){var resource=$resource("http://api.robbestad.com/shopadmin/products/:id",{id:"@id"});return this.getProduct=function(id){return resource.get({id:id})},this.getProducts=function(){return resource.get()},this}]);var mokklookNs=myAppNs||{};mokklookNs.product={productID:1,name:"Kort med robot",price:200,image:"robotbilde"};var recipeNs=myAppNs||{};recipeNs.recipies=[{recipeID:1,name:"Fish sticks and Rice",price:2,time:20,image:"fishsticks-mine",recipeIngredients:[],recipeInstructions:[]},{recipeID:2,name:"Pizza",price:13,time:30,image:"pizza-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:3,name:"Pasta with Meatsauce",price:3,time:11,image:"pasta-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:4,name:"Cereal with Millk",price:1,time:1,image:"cereal-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:5,name:"Meatballs and Mashed Potatoes",price:4,time:5,image:"meatballs-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:6,name:"Waffles and Jam",price:3,time:12,image:"waffles-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:7,name:"Hamburgers",price:3,time:15,image:"hamburger-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:8,name:"Ham and Cheeze Sandwich",price:2,time:5,image:"sandwich-clip",recipeIngredients:[],recipeInstructions:[]},{recipeID:9,name:"Magic Ice cream",price:4,time:3,image:"icecream-clip",recipeIngredients:[],recipeInstructions:[]}],function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){for(d=a.target;!f.test(d.nodeName);)d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}}(document,window.navigator,"standalone");